<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang 3</title>
    <style>
        body {
            background-color: pink;
            text-align: center;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            flex-direction: column;
        }
        h1 {
            color: deeppink; /* Màu hồng đậm */
            font-size: 24px; /* Cỡ chữ trung bình */
        }
        .date-input, .submit-button {
            background-color: white;
            border: 2px solid deeppink; /* Màu hồng đậm */
            color: deeppink; /* Màu hồng đậm */
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
            border-radius: 12px; /* Góc bo tròn */
        }
        .submit-button:hover {
            background-color: deeppink; /* Màu hồng đậm */
            color: white;
        }
        .date-input {
            cursor: pointer;
        }
        .footer-image {
            margin-top: 20px;
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <h1>Chọn ngày đi em iuuuu</h1>
    <input type="date" id="datePicker" class="date-input">
    <button class="submit-button" onclick="saveData()">Gửi</button>

    <!-- Ảnh Getout.jpg -->
    <img src="Getout.jpg" alt="Get Out" class="footer-image">

    <script>
        async function saveData() {
            var date = document.getElementById('datePicker').value;
            if (date) {
                const response = await fetch('https://api.github.com/repos/username/repository-name/contents/data.json', {
                    method: 'GET',
                    headers: {
                        'Authorization': `token YOUR_GITHUB_TOKEN`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });
                const data = await response.json();
                const content = atob(data.content);
                const jsonData = JSON.parse(content);

                jsonData.push({ date: date, timestamp: new Date().toISOString() });

                const newContent = btoa(JSON.stringify(jsonData, null, 2));

                await fetch('https://api.github.com/repos/username/repository-name/contents/data.json', {
                    method: 'PUT',
                    headers: {
                        'Authorization': `token YOUR_GITHUB_TOKEN`,
                        'Accept': 'application/vnd.github.v3+json'
                    },
                    body: JSON.stringify({
                        message: 'Update data.json with new date',
                        content: newContent,
                        sha: data.sha
                    })
                });

                alert('Đã lưu ngày thành công!');
            } else {
                alert("Vui lòng chọn ngày trước khi gửi!");
            }
        }
    </script>
</body>
</html>
